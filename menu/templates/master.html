<html>
    {% load static %}
    <head>
        <title>{% block title %}BiciCenter - Tu Centro de Bicicletas Favorito{% endblock %}</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link rel="stylesheet" href="{% static 'css/master.css' %}">
        <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    </head>
    <body class="d-flex flex-column min-vh-100">

   <header>
    <div class="header-top">
        <div class="container d-flex justify-content-between align-items-center">
            <a class="navbar-brand" href="{% url 'master' %}"><img src="{% static 'img/biciCenter.png' %}" alt=""></a>
            <form class="d-flex search-bar" role="search"></form>
            <div>
                 {% if user.is_authenticated %}
                    <a href="{% url 'logout' %}?next={{ request.path }}" class="btn btn-light">
                        Cerrar Sesi√≥n
                    </a>
                {% else %}
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">
                        Usuario
                    </button>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="header-bottom">
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
    {% if user.is_authenticated %}
        <li class="nav-item">
            <a class="nav-link" href="{% url 'registrobici' %}">Agenda tu Cita</a>
        </li>
    {% endif %}
    <li class="nav-item">
        <a class="nav-link" href="{% url 'bicicletas' %}">Bicicletas</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{% url 'repuestos' %}">Repuestos</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{% url 'accesorios' %}">Accesorios</a>
    </li>
</ul>
</div>
            </div>
        </nav>
    </div>
</header>

    <main class="flex-grow-1">
        {% block content %}
        <a href="{% url 'bicicletas' %}" class="h2 text-decoration-none text-dark d-block mb-2 mt-4">Bicicletas</a>
        <div class="row row-cols-1 row-cols-md-4 g-4 justify-content-center">
            {% for bici in bicicletas %}
            <div class="col">
                <div class="card h-100 product-card">
                    {% if bici.imagen %}
                        <img src="{{ bici.imagen.url }}" class="card-img-top" alt="{{ bici.nombre }}">
                    {% else %}
                        <img src="{% static 'img/default_bike.jpg' %}" class="card-img-top" alt="Sin imagen">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ bici.nombre }} - {{ bici.modelo }}</h5>
                        <p class="card-text text-success">${{ bici.precio }}</p>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No hay bicicletas registradas.</p>
            {% endfor %}
        </div>

        <a href="{% url 'accesorios' %}" class="h2 text-decoration-none text-dark d-block mb-2 mt-4">Accesorios</a>
        <div class="row row-cols-1 row-cols-md-4 g-4 justify-content-center">
            {% for accesorio in accesorios %}
            <div class="col">
                <div class="card h-100 product-card">
                    {% if accesorio.imagen %}
                        <img src="{{ accesorio.imagen.url }}" class="card-img-top" alt="{{ accesorio.nombre }}">
                    {% else %}
                        <img src="{% static 'img/default_bike.jpg' %}" class="card-img-top" alt="Sin imagen">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ accesorio.nombre }}</h5>
                        <p class="card-text">{{ accesorio.descripcion|truncatewords:15 }}</p>
                        <p class="card-text text-success">${{ accesorio.precio }}</p>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No hay accesorios registrados.</p>
            {% endfor %}
        </div>

        <a href="{% url 'repuestos' %}" class="h2 text-decoration-none text-dark d-block mb-2 mt-4">Repuestos</a>
        <div class="row row-cols-1 row-cols-md-4 g-4 justify-content-center">
            {% for repuesto in repuestos %}
            <div class="col">
                <div class="card h-100 product-card">
                    {% if repuesto.imagen %}
                        <img src="{{ repuesto.imagen.url }}" class="card-img-top" alt="{{ repuesto.nombre }}">
                    {% else %}
                        <img src="{% static 'img/default_bike.jpg' %}" class="card-img-top" alt="Sin imagen">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ repuesto.nombre }}</h5>
                        <p class="card-text">{{ repuesto.descripcion|truncatewords:15 }}</p>
                        <p class="card-text text-success">${{ repuesto.precio }}</p>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No hay repuestos registrados.</p>
            {% endfor %}
        </div>
        {% endblock %}
    </main>

    <footer>
        <div class="footer-content text-center py-3">
            <p class="mb-0">&copy; 2024 BiciCenter. Todos los derechos reservados.</p>
        </div>
    </footer>

    {% include 'modal.html' %}

    </body>
</html>